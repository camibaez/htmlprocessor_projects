{"nodes":[{"pattern":"*.jsp","class":"FilePattern","id":"jspFilter","type":"Condition","active":true},{"pattern":"<script.*src=\".*javascripts\/optMenu\\.jsp\".*>.*<\/script>","flags":2,"condition":"-","class":"TextContent","id":"c1","type":"Condition","active":true},{"pattern":"(<script.*\/pages\/e\/javascripts\/eIBS\\.jsp\".*>.*<\/script>)","replace":"$1\n<script src=\"<%=request.getContextPath()%>\/pages\/e\/javascripts\/optMenu.jsp\"><\/script>","flags":2,"class":"ReplaceText","id":"addOptionMenuJs","type":"Action","active":true},{"pattern":"<link.*href=\".*jquery\\.contextMenu\\.css\".*rel=\"stylesheet\".*type=\"text\/css\\\".*\/>","flags":2,"condition":"-","class":"TextContent","id":"c2","type":"Condition","active":true},{"pattern":"(<link.*href=\".*\/pages\/style.css\".*rel=\"stylesheet\".*>)","replace":"<link href=\"<%=request.getContextPath()%>\/jquery\/plugins\/contextMenu\/css\/jquery.contextMenu.css\" rel=\"stylesheet\" type=\"text\/css\" \/>\n$1","flags":2,"class":"ReplaceText","id":"addContextCss","type":"Action","active":true},{"code":"r = \/eval\\('(.+?)'\\s+?[+\\-*]+\\s+([a-z]+).+;\/g;\ntarget = target.replace(r, '$1$2;');\n\nr = \/style\\.pixelTop\\s*=(\\s?(.|\\s)*?);\/g;\ntarget = target.replace(r, 'style.top = $1 + \"px\";');\n\nr = \/style\\.pixelLeft\\s*=(\\s?(.|\\s)*?);\/g;\ntarget = target.replace(r, 'style.left = $1 + \"px\";');\n\nr = \/style\\.pixelRight\\s*=(\\s?(.|\\s)*?);\/g;\ntarget = target.replace(r, 'style.right = $1 + \"px\"');\n\nreturn target;","class":"ExecutableAction","id":"oldIEJsCleaner","type":"Action","active":true},{"code":"r = \/oncontextmenu=\"showPopUp\\(\/g;\ntarget = target.replace(r, 'class=\"context-menu-help\" onmousedown=\"showPopUp(');\n\nr = \/.*builtHPopUp\\(\\);\/g;\ntarget = target.replace(r, '\/\/builtHPopUp();');\n\nr = \/.*showPopUpHelp\\(\\)*\/gi;\ntarget = target.replace(r, '\/\/showPopUpHelp()');\n\nreturn target;","class":"ExecutableAction","id":"commentMethods","type":"Action","active":true},{"pattern":"<(div|p|a|span|img)\\b([^>]*)align=\"(left|center|right)\"(?:([^>]*)style=\"([^\">]*)\")?([^>]*)>","replace":"<$1$2style=\"text-align:$3;$5\"$4$6>","flags":2,"class":"ReplaceText","id":"oldAlignFixer","type":"Action","active":true},{"pattern":".*oncontextmenu=\"showPopUp\\(.*","flags":0,"condition":"+","class":"TextContent","id":"contextmenuFilter","type":"Condition","active":true},{"code":"r = \/(.*\\.filters\\[0\\]\\.(apply|Play)\\(\\);)\/g;\ntarget = target.replace(r, '\/\/$1');\n\nvar r = \/<(div|p|h|a|table|td|tr)\\s+id=(\"|')([a-zA-Z0-9]+)(\"|')\/gi;\nvar text = target;\n\nvar ids = [];\nvar regexList = text.match(r);\nif (regexList) {\n    for (var i = 0; i < regexList.length; i++) {\n        var res = regexList[i].match(\/id=('|\")([a-zA-Z0-9]+)('|\")\/);\n        if (res) {\n            ids.push(res[2]);\n        }\n    }\n\n    for (var i = 0; i < ids.length; i++) {\n        var id = ids[i];\n        r = new RegExp('<script[^>]*>(?:[^<]+|<(?!\/script>))+', 'gi');\n        while (res = r.exec(text)) {\n            var begin = res.index;\n            var end = begin + res[0].length;\n\n            var pre = text.substring(0, begin);\n            var inText = text.substring(begin, end);\n            var post = text.substring(end);\n            inText = inText.replace(new RegExp(\"(\\\\(?)(\" + id + \")((\\\\.|\\\\s*,|\\\\s*\\\\)))\", 'g'), \"$1document.getElementById('\" + id + \"')$3\");\n\n            text = pre + inText + post;\n\n        }\n\n    }\n}\n\nreturn text;\n","class":"ExecutableAction","id":"a1443002414","type":"Action","active":true}],"lastWorkingDirectory":null,"name":null,"description":null,"graph":"strict digraph G {\r\n  START_NODE [ label=\"START_NODE\" ];\r\n  END_NODE [ label=\"END_NODE\" ];\r\n  FAIL_NODE [ label=\"FAIL_NODE\" ];\r\n  jspFilter [ label=\"jspFilter\" ];\r\n  c1 [ label=\"c1\" ];\r\n  addOptionMenuJs [ label=\"addOptionMenuJs\" ];\r\n  c2 [ label=\"c2\" ];\r\n  addContextCss [ label=\"addContextCss\" ];\r\n  oldIEJsCleaner [ label=\"oldIEJsCleaner\" ];\r\n  commentMethods [ label=\"commentMethods\" ];\r\n  oldAlignFixer [ label=\"oldAlignFixer\" ];\r\n  contextmenuFilter [ label=\"contextmenuFilter\" ];\r\n  a1443002414 [ label=\"a1443002414\" ];\r\n  START_NODE -> jspFilter [ label=\"et1962309448\" ];\r\n  jspFilter -> FAIL_NODE [ label=\"ef1386750719\" ];\r\n  jspFilter -> oldIEJsCleaner [ label=\"et363021269\" ];\r\n  oldIEJsCleaner -> a1443002414 [ label=\"et1244611573\" ];\r\n  a1443002414 -> oldAlignFixer [ label=\"et1013646437\" ];\r\n  oldAlignFixer -> c1 [ label=\"et13946721\" ];\r\n  c1 -> addOptionMenuJs [ label=\"et545189492\" ];\r\n  c1 -> contextmenuFilter [ label=\"ef2070232341\" ];\r\n  addOptionMenuJs -> contextmenuFilter [ label=\"et1746565562\" ];\r\n  contextmenuFilter -> commentMethods [ label=\"et1834080433\" ];\r\n  contextmenuFilter -> END_NODE [ label=\"ef1980314446\" ];\r\n  commentMethods -> c2 [ label=\"et1658293508\" ];\r\n  c2 -> addContextCss [ label=\"et719103942\" ];\r\n  c2 -> END_NODE [ label=\"ef1155612162\" ];\r\n  addContextCss -> END_NODE [ label=\"et605250965\" ];\r\n}\r\n"}